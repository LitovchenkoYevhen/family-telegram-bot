# Family Telegram Bot

Бот для учета семейных расходов через Telegram.

## Функциональность

- Отслеживание расходов и доходов в групповом чате
- Автоматическое распознавание сумм и категорий
- Статистика и отчеты по расходам
- Визуализация данных (графики и диаграммы)
- Экспорт данных

## Установка и запуск

### Локальный запуск

1. Клонировать репозиторий:
```bash
git clone [url-репозитория]
```

2. Создать виртуальное окружение и установить зависимости:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
# или
venv\Scripts\activate  # для Windows
pip install -r requirements.txt
```

3. Создать файл .env и добавить необходимые переменные окружения:
```
TELEGRAM_BOT_TOKEN=your_bot_token
```

4. Запустить бота:
```bash
python src/main.py
```

### Запуск в Docker

1. Клонировать репозиторий:
```bash
git clone [url-репозитория]
cd family-telegram-bot
```

2. Создать файл .env и добавить токен бота:
```
TELEGRAM_BOT_TOKEN=your_bot_token
```

3. Создать директорию для данных:
```bash
mkdir data
```

4. Запустить бота с помощью Docker Compose:
```bash
docker-compose up -d
```

5. Проверить логи:
```bash
docker-compose logs -f
```

## Использование

1. Добавьте бота в групповой чат
2. Отправляйте сообщения о расходах в формате:
   - "500 продукты"
   - "1000 транспорт"
   - и т.д.
3. Отправляйте сообщения о доходах:
   - "50000+ зарплата"
   - "1000+ доход"

## Команды бота

- `/start` - начало работы
- `/help` - справка
- `/stats` - статистика за месяц
- `/report` - подробный отчет с графиками

## Структура проекта

```
src/
├── handlers/     # Обработчики команд и сообщений
├── models/       # Модели данных
├── utils/        # Вспомогательные функции
└── main.py       # Точка входа
```

## Развертывание на сервере

1. Установить Docker и Docker Compose на сервер
2. Клонировать репозиторий
3. Настроить .env файл
4. Запустить с помощью Docker Compose:
```bash
docker-compose up -d
```

## Обновление бота

1. Остановить контейнер:
```bash
docker-compose down
```

2. Получить последние изменения:
```bash
git pull
```

3. Пересобрать и запустить:
```bash
docker-compose up -d --build
```
